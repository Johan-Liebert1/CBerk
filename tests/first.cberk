type mah_function = def (int) -> int;

extern fun SDL_Init(flags: int) -> int;
extern fun SDL_CreateWindow(windowName: *char, x: int, y: int, width: int, height: int, flags: int) -> *int;
extern fun SDL_GetError() -> str;

fun main() {
    def sdl_init: int = SDL_Init(32);
    write("sdl_init = ", sdl_init)

    def NULL: int = 0;

    def name: str = "hello\0";
    def window: *int = SDL_CreateWindow(name as *char, 10, 10, 800, 600, 8196);

    write("window = ", window)

    -- def error: str = SDL_GetError();
    -- write("error = ", error as *char)

    -- loop {}

    if window == NULL as *int {
        def error: str = SDL_GetError();
        write(error)
    }
}

main()
